require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([11],{83:function(t,e,i){"use strict";var s=n(i(1)),a=n(i(84));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(a.default))},84:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(86),a=i.n(s),n=i(87),o=!1;var l=function(t){o||i(85)},r=i(0)(a.a,n.a,l,null,null);r.options.__file="E:\\app实例\\HX\\newsApp\\newsApp\\pages\\booknav\\booknav.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] booknav.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},85:function(t,e){},86:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s=n(i(4)),a=n(i(5));function n(t){return t&&t.__esModule?t:{default:t}}e.default={components:{uniDrawer:s.default,uniIcon:a.default},data:function(){return{mername:"",sleNav:"全部",load:!1,gender:"",minor:"",stylel:"hot",navList:[],bookList:[],total:"",chang:"",typeList:[{value:"hot",name:"热门",sl:!0},{value:"new",name:"新书",sl:!1},{value:"reputation",name:"好评",sl:!1},{value:"over",name:"完结",sl:!1},{value:"monthly",name:"包月",sl:!1}],rightDrawerVisible:!1}},onLoad:function(e){var i=this;i.mername=e.mername,i.gender=e.gender,t.setNavigationBarTitle({title:i.mername}),this.getnavball(),setTimeout(function(){i.getStyleDeitai(i.gender,i.stylel,i.mername,i.minor,0)},200)},methods:{getStyleDeitai:function(e,i,s,a,n){t.showLoading({title:"加载中..."});var o=this,l=(this.load,this.chang),r=this.bookList;t.request({url:"https://novel.juhe.im/category-info?gender="+e+"&type="+i+"&major="+encodeURIComponent(s)+"&minor="+encodeURIComponent(a)+"&start="+n+"&limit=10",data:{},header:{"content-type":"application/json"},method:"GET",success:function(e){t.hideLoading();var i=e.data,s=Math.ceil(i.total/i.books.length)*i.books.length;i.books.forEach(function(t){t.cover=decodeURIComponent(t.cover).replace("/agent/","")}),i.books.forEach(function(t){r.push(t)}),l=r.length==i.books.length?i.books.length:r.length+i.books.length,o.bookList=r,o.chang=l,o.total=s}})},choseStyle:function(t){var e=this.typeList,i=t.currentTarget.dataset.idx;e.forEach(function(t,e){t.sl=!1,e==i&&(t.sl=!0)}),this.typeList=e,this.stylel=e[i].value,this.total="",this.chang=0,this.bookList=[],this.getStyleDeitai(this.gender,this.stylel,this.mername,this.minor,0)},loadmore:function(){var e=this.total,i=this.chang;i<e?(this.getStyleDeitai(this.gender,this.stylel,this.mername,this.minor,i),this.load=!0):t.showToast({title:"亲，到底了 ^_^!!!",icon:"none"})},getnavball:function(){var e=this.gender,i=this.mername;console.log("0001",e,i);var s=this;t.request({url:"https://novel.juhe.im/sub-categories",data:{},header:{"content-type":"application/json"},method:"GET",success:function(t){var a=null;"female"==e?a=t.data.female:"male"==e?a=t.data.male:"picture"==e?a=t.data.picture:"press"==e&&(a=t.data.press),console.log(t,a);var n=[];a.forEach(function(t){t.major==i&&(n=t.mins)}),n.unshift("全部"),console.log("次级列表",n),s.navList=n}})},choseSubNav:function(t){this.navList;var e=t.target.dataset.cont;this.sleNav=e,this.minor=e,this.total="",this.chang=0,this.bookList=[],"全部"==e?(this.minor="",this.getStyleDeitai(this.gender,"hot",this.mername,this.minor,0)):this.getStyleDeitai(this.gender,"hot",this.mername,this.minor,0)},closeRightDrawer:function(){this.rightDrawerVisible=!1},showRightDrawer:function(){this.rightDrawerVisible=!0},openInfo:function(e){t.navigateTo({url:"../booknote/booknote?bookid="+e.currentTarget.dataset.id})}},onNavigationBarButtonTap:function(){this.rightDrawerVisible=!this.rightDrawerVisible}}}).call(e,i(2).default)},87:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"icon",attrs:{eventid:"SBZ-0"},on:{tap:t.showRightDrawer}},[i("uni-icon",{attrs:{type:"bars",color:"#666666",size:"22",mpcomid:"0ec-0"}})],1),i("scroll-view",{staticClass:"bookWai",attrs:{"scroll-y":"",eventid:"vkN-2"},on:{scrolltolower:t.loadmore}},[i("view",{staticClass:"uni-padding-wrap"},[i("view",{staticClass:"uni-list"},t._l(t.bookList,function(e,s){return i("view",{key:s,staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",{staticClass:"uni-media-list",attrs:{"data-id":e._id,eventid:"1Yx-1-"+s},on:{tap:t.openInfo}},[i("image",{staticClass:"uni-media-list-logo",attrs:{src:e.cover,mode:"widthFix"}}),i("view",{staticClass:"uni-media-list-body"},[i("view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(e.title))]),i("view",{staticClass:"uni-media-list-text-bottom uni-ellipsis"},[t._v(t._s(e.author))]),i("view",{staticClass:"uni-media-list-text-bottom uni-ellipsis"},[t._v(t._s(e.lastChapter))]),i("view",{staticClass:"uni-media-list-text-bottom duoeli"},[t._v(t._s(e.shortIntro))])])])])}))])]),i("uni-drawer",{attrs:{visible:t.rightDrawerVisible,mode:"right",eventid:"Ace-6",mpcomid:"o7F-1"},on:{close:t.closeRightDrawer}},[i("view",{staticStyle:{padding:"30upx"}},[i("view",{staticClass:"daohang"},t._l(t.typeList,function(e,s){return i("text",{key:s,class:e.sl?"slct":"",attrs:{"data-idx":s,eventid:"JCL-3-"+s},on:{tap:t.choseStyle}},[t._v(t._s(e.name))])})),i("view",{staticClass:"subCt"},[t.navList?i("view",t._l(t.navList,function(e,s){return i("view",{key:s,class:e==t.sleNav?"showNav":"navView",attrs:{"data-cont":e,eventid:"PMO-4-"+s},on:{tap:t.choseSubNav}},[t._v("\n\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t")])})):t._e()]),i("view",{staticClass:"uni-common-mt"},[i("button",{staticClass:"button",attrs:{type:"warn",size:"mini",eventid:"PIn-5"},on:{tap:t.closeRightDrawer}},[t._v("关闭")])],1)])])],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a}},[83]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/booknav/booknav.js.map